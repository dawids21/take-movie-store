<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<table id="moviesList" th:fragment="list(movies, page)" class="table">
    <!-- Table headers -->
    <thead>
    <tr>
        <th>Title</th>
        <th>Category</th>
        <th>Year of Release</th>
        <th>Price</th>
    </tr>
    </thead>
    <!-- Table body -->
    <tbody id="moviesRows">
    <tr th:replace="~{movies :: rows(${movies}, ${page}, null)}"></tr>
    </tbody>
</table>
<tr th:hx-get="${iter.last ? '/movies?page=' + (page + 1) + (category != null ? '&category=' + category : '') : ''}" th:hx-swap="${iter.last ? 'afterend' : ''}" th:hx-trigger="${iter.last ? 'revealed' : ''}"
    th:each="movie, iter : ${movies}" th:fragment="rows(movies, page, category)">
    <td th:text="${movie.title}">Title</td>
    <td th:text="${movie.category}">Category</td>
    <td th:text="${movie.yearOfRelease}">Year of Release</td>
    <td th:text="${#numbers.formatDecimal(movie.price / 100, 1, 2) + ' $'}">Price</td>
</tr>
</html>